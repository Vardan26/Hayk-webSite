(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

// Input fields
var phone = document.getElementById('phone');
var password = document.getElementById('password');
var toggleInput = document.querySelector('#remember');
var submitBtn = document.querySelector('.form__btn-submit');
var isPhoneValid = false;
var isPasswordValid = false; // Form

var form = document.getElementById('form'); // Handlers

form.addEventListener('submit', function (event) {
  // Prevent default behaviour
  event.preventDefault();

  if (validatePhone() && validatePassword()) {
    setTimeout(function () {
      alert("form submitted");
    }, 1000);
  }
});
phone.addEventListener("focusout", validatePhone);
password.addEventListener("focusout", validatePassword); // Validators

function validatePhone() {
  // check if is empty
  if (checkIfEmpty(phone)) return; // is if it valid characters for phone number

  if (!containsCharacters(phone, 3)) return;
  isPhoneValid = !isPhoneValid;
  isPasswordValid ? toggleInput.disabled = false : true;
  isPasswordValid && isPhoneValid ? submitBtn.disabled = false : true;
  return true;
}

function validatePassword() {
  // Empty check
  if (checkIfEmpty(password)) return; // Must of in certain length

  if (!meetLength(password, 5, 100)) return; // check password against our character set
  // 1- a
  // 2- a 1
  // 3- A a 1
  // 4- A a 1 @

  if (!containsCharacters(password, 2)) return;
  isPasswordValid = !isPasswordValid;
  isPasswordValid ? toggleInput.disabled = false : true;
  isPasswordValid && isPhoneValid ? submitBtn.disabled = false : true;
  return true;
} // Utility functions


function checkIfEmpty(field) {
  if (isEmpty(field.value.length)) {
    // set field invalid
    setInvalid(field, "".concat(field.name, " must not be empty"));
    return true;
  } else {
    // set field valid
    setValid(field);
    return false;
  }
}

function isEmpty(value) {
  if (value === '') return true;
  return false;
}

function meetLength(field, minLength, maxLength) {
  if (field.value.length >= minLength && field.value.length < maxLength) {
    setValid(field);
    return true;
  } else if (field.value.length < minLength) {
    setInvalid(field, "".concat(field.name, " must be at least ").concat(minLength, " characters long"));
    return false;
  } else {
    setInvalid(field, "".concat(field.name, " must be shorter than ").concat(maxLength, " characters"));
    return false;
  }
}

function containsCharacters(field, code) {
  var regEx;

  switch (code) {
    case 1:
      // letters
      regEx = /(?=.*[a-zA-Z])/;
      return matchWithRegEx(regEx, field, 'Must contain at least one letter');

    case 2:
      // letter and numbers
      regEx = /(?=.*\d)(?=.*[a-zA-Z])/;
      return matchWithRegEx(regEx, field, 'Must contain at least one letter and one number');

    case 3:
      // phone number
      regEx = /^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/g;
      return matchWithRegEx(regEx, field, 'Invalid type of phone number');

    default:
      return false;
  }
}

function matchWithRegEx(regEx, field, message) {
  if (field.value.match(regEx)) {
    setValid(field);
    return true;
  } else {
    setInvalid(field, message);
    return false;
  }
}

function setInvalid(field, message) {
  field.parentElement.classList.add('label-txt--invalid');
  field.nextElementSibling.firstElementChild.innerHTML = message;
}

function setValid(field) {
  field.parentElement.classList.remove('label-txt--invalid');
  field.parentElement.classList.add('label-txt--valid');
  field.nextElementSibling.firstElementChild.innerHTML = "";
} //IE 11 img filter


var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;

if (isIE11) {
  document.getElementsByClassName('form__blur').style.backgroundImage = "url('../img/banner-blured.jpg')";
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL2pzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBO0FBQ0EsSUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsT0FBeEIsQ0FBZDtBQUNBLElBQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLFVBQXhCLENBQWpCO0FBQ0EsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsV0FBdkIsQ0FBcEI7QUFDQSxJQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixtQkFBdkIsQ0FBbEI7QUFFQSxJQUFJLFlBQVksR0FBRyxLQUFuQjtBQUNBLElBQUksZUFBZSxHQUFHLEtBQXRCLEMsQ0FFQTs7QUFDQSxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixNQUF4QixDQUFiLEMsQ0FFQTs7QUFDQSxJQUFJLENBQUMsZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsVUFBVSxLQUFWLEVBQWlCO0FBQzdDO0FBQ0EsRUFBQSxLQUFLLENBQUMsY0FBTjs7QUFDQSxNQUFJLGFBQWEsTUFBTSxnQkFBZ0IsRUFBdkMsRUFBMkM7QUFDdkMsSUFBQSxVQUFVLENBQUMsWUFBWTtBQUNuQixNQUFBLEtBQUssQ0FBQyxnQkFBRCxDQUFMO0FBQ0gsS0FGUyxFQUVQLElBRk8sQ0FBVjtBQUdIO0FBQ0osQ0FSRDtBQVVBLEtBQUssQ0FBQyxnQkFBTixDQUF1QixVQUF2QixFQUFtQyxhQUFuQztBQUVBLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixVQUExQixFQUFzQyxnQkFBdEMsRSxDQUVBOztBQUNBLFNBQVMsYUFBVCxHQUF5QjtBQUNyQjtBQUNBLE1BQUksWUFBWSxDQUFDLEtBQUQsQ0FBaEIsRUFBeUIsT0FGSixDQUdyQjs7QUFDQSxNQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBRCxFQUFRLENBQVIsQ0FB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OlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIElucHV0IGZpZWxkc1xyXG5jb25zdCBwaG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpO1xyXG5jb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpO1xyXG5jb25zdCB0b2dnbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW1lbWJlcicpO1xyXG5jb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnRuLXN1Ym1pdCcpO1xyXG5cclxubGV0IGlzUGhvbmVWYWxpZCA9IGZhbHNlO1xyXG5sZXQgaXNQYXNzd29yZFZhbGlkID0gZmFsc2U7XHJcblxyXG4vLyBGb3JtXHJcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybScpO1xyXG5cclxuLy8gSGFuZGxlcnNcclxuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvdXJcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAodmFsaWRhdGVQaG9uZSgpICYmIHZhbGlkYXRlUGFzc3dvcmQoKSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhbGVydChcImZvcm0gc3VibWl0dGVkXCIpXHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxucGhvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHZhbGlkYXRlUGhvbmUpO1xyXG5cclxucGFzc3dvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHZhbGlkYXRlUGFzc3dvcmQpO1xyXG5cclxuLy8gVmFsaWRhdG9yc1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVBob25lKCkge1xyXG4gICAgLy8gY2hlY2sgaWYgaXMgZW1wdHlcclxuICAgIGlmIChjaGVja0lmRW1wdHkocGhvbmUpKSByZXR1cm47XHJcbiAgICAvLyBpcyBpZiBpdCB2YWxpZCBjaGFyYWN0ZXJzIGZvciBwaG9uZSBudW1iZXJcclxuICAgIGlmICghY29udGFpbnNDaGFyYWN0ZXJzKHBob25lLCAzKSkgcmV0dXJuO1xyXG4gICAgaXNQaG9uZVZhbGlkID0gIWlzUGhvbmVWYWxpZDtcclxuICAgIGlzUGFzc3dvcmRWYWxpZCA/IHRvZ2dsZUlucHV0LmRpc2FibGVkID0gZmFsc2UgOiB0cnVlO1xyXG4gICAgaXNQYXNzd29yZFZhbGlkICYmIGlzUGhvbmVWYWxpZD8gc3VibWl0QnRuLmRpc2FibGVkID0gZmFsc2UgOiB0cnVlO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmQoKSB7XHJcbiAgICAvLyBFbXB0eSBjaGVja1xyXG4gICAgaWYgKGNoZWNrSWZFbXB0eShwYXNzd29yZCkpIHJldHVybjtcclxuICAgIC8vIE11c3Qgb2YgaW4gY2VydGFpbiBsZW5ndGhcclxuICAgIGlmICghbWVldExlbmd0aChwYXNzd29yZCwgNSwgMTAwKSkgcmV0dXJuO1xyXG4gICAgLy8gY2hlY2sgcGFzc3dvcmQgYWdhaW5zdCBvdXIgY2hhcmFjdGVyIHNldFxyXG4gICAgLy8gMS0gYVxyXG4gICAgLy8gMi0gYSAxXHJcbiAgICAvLyAzLSBBIGEgMVxyXG4gICAgLy8gNC0gQSBhIDEgQFxyXG4gICAgaWYgKCFjb250YWluc0NoYXJhY3RlcnMocGFzc3dvcmQsIDIpKSByZXR1cm47XHJcbiAgICBpc1Bhc3N3b3JkVmFsaWQgPSAhaXNQYXNzd29yZFZhbGlkO1xyXG4gICAgaXNQYXNzd29yZFZhbGlkID8gdG9nZ2xlSW5wdXQuZGlzYWJsZWQgPSBmYWxzZSA6IHRydWU7XHJcbiAgICBpc1Bhc3N3b3JkVmFsaWQgJiYgaXNQaG9uZVZhbGlkPyBzdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZSA6IHRydWU7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8gVXRpbGl0eSBmdW5jdGlvbnNcclxuZnVuY3Rpb24gY2hlY2tJZkVtcHR5KGZpZWxkKSB7XHJcbiAgICBpZiAoaXNFbXB0eShmaWVsZC52YWx1ZS5sZW5ndGgpKSB7XHJcbiAgICAgICAgLy8gc2V0IGZpZWxkIGludmFsaWRcclxuICAgICAgICBzZXRJbnZhbGlkKGZpZWxkLCBgJHtmaWVsZC5uYW1lfSBtdXN0IG5vdCBiZSBlbXB0eWApO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBzZXQgZmllbGQgdmFsaWRcclxuICAgICAgICBzZXRWYWxpZChmaWVsZCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gdHJ1ZTtcclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWVldExlbmd0aChmaWVsZCwgbWluTGVuZ3RoLCBtYXhMZW5ndGgpIHtcclxuICAgIGlmIChmaWVsZC52YWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoICYmIGZpZWxkLnZhbHVlLmxlbmd0aCA8IG1heExlbmd0aCkge1xyXG4gICAgICAgIHNldFZhbGlkKGZpZWxkKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoZmllbGQudmFsdWUubGVuZ3RoIDwgbWluTGVuZ3RoKSB7XHJcbiAgICAgICAgc2V0SW52YWxpZChcclxuICAgICAgICAgICAgZmllbGQsXHJcbiAgICAgICAgICAgIGAke2ZpZWxkLm5hbWV9IG11c3QgYmUgYXQgbGVhc3QgJHttaW5MZW5ndGh9IGNoYXJhY3RlcnMgbG9uZ2BcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0SW52YWxpZChcclxuICAgICAgICAgICAgZmllbGQsXHJcbiAgICAgICAgICAgIGAke2ZpZWxkLm5hbWV9IG11c3QgYmUgc2hvcnRlciB0aGFuICR7bWF4TGVuZ3RofSBjaGFyYWN0ZXJzYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb250YWluc0NoYXJhY3RlcnMoZmllbGQsIGNvZGUpIHtcclxuICAgIGxldCByZWdFeDtcclxuICAgIHN3aXRjaCAoY29kZSkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gbGV0dGVyc1xyXG4gICAgICAgICAgICByZWdFeCA9IC8oPz0uKlthLXpBLVpdKS87XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFdpdGhSZWdFeChyZWdFeCwgZmllbGQsICdNdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxldHRlcicpO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgLy8gbGV0dGVyIGFuZCBudW1iZXJzXHJcbiAgICAgICAgICAgIHJlZ0V4ID0gLyg/PS4qXFxkKSg/PS4qW2EtekEtWl0pLztcclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoV2l0aFJlZ0V4KFxyXG4gICAgICAgICAgICAgICAgcmVnRXgsXHJcbiAgICAgICAgICAgICAgICBmaWVsZCxcclxuICAgICAgICAgICAgICAgICdNdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxldHRlciBhbmQgb25lIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIC8vIHBob25lIG51bWJlclxyXG4gICAgICAgICAgICByZWdFeCA9IC9eWytdP1tcXHMuLzAtOV0qWyhdP1swLTldezEsNH1bKV0/Wy1cXHMuLzAtOV0qJC9nO1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hXaXRoUmVnRXgoXHJcbiAgICAgICAgICAgICAgICByZWdFeCxcclxuICAgICAgICAgICAgICAgIGZpZWxkLFxyXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgdHlwZSBvZiBwaG9uZSBudW1iZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYXRjaFdpdGhSZWdFeChyZWdFeCwgZmllbGQsIG1lc3NhZ2UpIHtcclxuICAgIGlmIChmaWVsZC52YWx1ZS5tYXRjaChyZWdFeCkpIHtcclxuICAgICAgICBzZXRWYWxpZChmaWVsZCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEludmFsaWQoZmllbGQsIG1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SW52YWxpZChmaWVsZCwgbWVzc2FnZSkge1xyXG4gICAgZmllbGQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsYWJlbC10eHQtLWludmFsaWQnKTtcclxuICAgIGZpZWxkLm5leHRFbGVtZW50U2libGluZy5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRWYWxpZChmaWVsZCkge1xyXG4gICAgZmllbGQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdsYWJlbC10eHQtLWludmFsaWQnKTtcclxuICAgIGZpZWxkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGFiZWwtdHh0LS12YWxpZCcpO1xyXG4gICAgZmllbGQubmV4dEVsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTCA9IFwiXCI7XHJcbn1cclxuXHJcbi8vSUUgMTEgaW1nIGZpbHRlclxyXG5jb25zdCBpc0lFMTEgPSAhIXdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiAhIWRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuaWYoaXNJRTExKXtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Zvcm1fX2JsdXInKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnLi4vaW1nL2Jhbm5lci1ibHVyZWQuanBnJylcIlxyXG59Il19
